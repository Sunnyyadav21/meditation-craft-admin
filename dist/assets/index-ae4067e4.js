import{r as l,y as h,U as f,V as g,j as e,W as j,X as b,L as m,p as w,O as y,P as L}from"./index-51b0ddf4.js";import{o as k,c as v,a as c}from"./index.esm-437abafc.js";import{A as N}from"./AuthLayout-82871eaa.js";import{a as P}from"./auth-75f3e4fc.js";import{F as n}from"./FormInput-e5c2d976.js";import{V as A}from"./VerticalForm-6611c1fc.js";import"./auth-img-4538a299.js";import"./logo-dark-2b58adc7.js";import"./Image-c1c2d51e.js";import"./InputGroupContext-6a776d27.js";function E(){const[a,t]=l.useState(!1),s=h(),r=f(),{isAuthenticated:d,saveSession:u}=g(),i=l.useMemo(()=>s.state&&s.state.from?s.state.from.pathname:"/",[s.state]);return{loading:a,login:async({email:p,password:x})=>{t(!0);try{const o=await P.login({email:p,password:x});o.token&&(u({...o.user??{},token:o.token}),r(i))}finally{t(!1)}},redirectUrl:i,isAuthenticated:d}}const C=()=>e.jsx(y,{children:e.jsx(L,{xs:12,className:"text-center",children:e.jsxs("p",{className:"text-dark-emphasis",children:["Don't have an account?"," ",e.jsx(m,{to:"/auth/register",className:"text-dark fw-bold ms-1 link-offset-3 text-decoration-underline",children:e.jsx("b",{children:"Sign up"})})]})})}),F=k(v().shape({email:c().required("Please enter Username"),password:c().required("Please enter Password")})),M=()=>{const{loading:a,login:t,redirectUrl:s,isAuthenticated:r}=E();return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Log In"}),r&&e.jsx(b,{to:s,replace:!0}),e.jsx(N,{authTitle:"Sign In",helpText:"Enter your email address and password to access account.",bottomLinks:e.jsx(C,{}),hasThirdPartyLogin:!0,children:e.jsxs(A,{onSubmit:t,resolver:F,defaultValues:{email:"velonic@techzaa.com",password:"Velonic"},children:[e.jsx(n,{label:"Email address",type:"text",name:"email",placeholder:"Enter your email",containerClass:"mb-3",required:!0}),e.jsx(n,{label:"Password",name:"password",type:"password",required:!0,id:"password",placeholder:"Enter your password",containerClass:"mb-3",children:e.jsx(m,{to:"/auth/forgot-password",className:"text-muted float-end",children:e.jsx("small",{children:"Forgot your password?"})})}),e.jsx(n,{label:"Remember me",type:"checkbox",name:"checkbox",containerClass:"mb-3"}),e.jsx("div",{className:"mb-0 text-start",children:e.jsxs(w,{variant:"soft-primary",className:"w-100",type:"submit",disabled:a,children:[e.jsx("i",{className:"ri-login-circle-fill me-1"})," ",e.jsx("span",{className:"fw-bold",children:"Log In"})," "]})})]})})]})};export{M as default};
